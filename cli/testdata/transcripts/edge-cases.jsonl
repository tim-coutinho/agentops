{"type":"user","sessionId":"test-session-005","timestamp":"2026-01-24T14:00:00.000Z","uuid":"msg-001","message":{"role":"user","content":"Test unicode: ä½ å¥½ä¸–ç•Œ ðŸš€ Ã©mojis and spÃ«cial Ã§haracters"}}
{"type":"assistant","sessionId":"test-session-005","timestamp":"2026-01-24T14:00:10.000Z","uuid":"msg-002","parentUuid":"msg-001","message":{"role":"assistant","content":"I can handle unicode! Here's a **Decision** with unicode:\n\nUse UTF-8 encoding everywhere. æ—¥æœ¬èªž works, Î•Î»Î»Î·Î½Î¹ÎºÎ¬ works, Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© works.\n\n**Learning:** Always normalize unicode strings before comparison. NFD vs NFC matters!"}}
{"malformed":"this line has wrong structure","not_a_message":true}
{"type":"assistant","sessionId":"test-session-005","timestamp":"2026-01-24T14:01:00.000Z","uuid":"msg-003","message":{"role":"assistant","content":"This message has no parentUuid - should still parse."}}
{"type":"user","sessionId":"test-session-005","timestamp":"2026-01-24T14:02:00.000Z","uuid":"msg-004","parentUuid":"msg-003","message":{"role":"user","content":""}}
{"type":"assistant","sessionId":"test-session-005","timestamp":"2026-01-24T14:02:10.000Z","uuid":"msg-005","parentUuid":"msg-004","message":{"role":"assistant","content":""}}
{"type":"user","sessionId":"test-session-005","timestamp":"2026-01-24T14:03:00.000Z","uuid":"msg-006","parentUuid":"msg-005","message":{"role":"user","content":"Very long content that should be truncated at 500 characters. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. This text continues beyond 500 characters to test truncation behavior in the parser. The parser should cut this off at 500 characters and add an indicator that truncation occurred. More text here to ensure we're well over the limit."}}
{"type":"assistant","sessionId":"test-session-005","timestamp":"2026-01-24T14:03:30.000Z","uuid":"msg-007","parentUuid":"msg-006","message":{"role":"assistant","content":"**Solution:** For handling long content:\n1. Truncate at max_content_length (default 500)\n2. Add truncation marker: \"... [truncated]\"\n3. Store original length in metadata for reference\n\nThis preserves context while keeping storage manageable."}}
{"type":"user","sessionId":"test-session-005","timestamp":"2026-01-24T14:04:00.000Z","uuid":"msg-008","parentUuid":"msg-007","message":{"role":"user","content":"Test\nnewlines\nand\ttabs\tin content"}}
{"type":"assistant","sessionId":"test-session-005","timestamp":"2026-01-24T14:04:10.000Z","uuid":"msg-009","parentUuid":"msg-008","message":{"role":"assistant","content":"Content with special whitespace handled correctly.\n\n**Failure:** Earlier I tried to preserve all whitespace exactly, but it caused issues with JSON serialization. Had to normalize to \\n for newlines."}}
{"type":"tool_use","sessionId":"test-session-005","timestamp":"2026-01-24T14:05:00.000Z","uuid":"msg-010","parentUuid":"msg-009","message":{"role":"assistant","tools":[{"name":"Read","input":{"file_path":"/nonexistent/path"},"output":"","error":"file not found: /nonexistent/path"}]}}
{"type":"assistant","sessionId":"test-session-005","timestamp":"2026-01-24T14:05:10.000Z","uuid":"msg-011","parentUuid":"msg-010","message":{"role":"assistant","content":"Tool errors are captured in the error field, not output."}}
